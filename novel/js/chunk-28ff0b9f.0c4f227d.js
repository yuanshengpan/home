(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28ff0b9f"],{"23e9":function(t,a,e){"use strict";var i=e("cd17"),s=e.n(i);s.a},4320:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"ranking"},[e("div",{staticClass:"header clearfix"},[e("div",{staticClass:"logo",on:{click:t.onClickLeft}},[e("van-icon",{staticClass:"icon",attrs:{name:"arrow-left"}}),e("span",[t._v("排行榜")])],1),e("van-tabs",{staticClass:"top",attrs:{type:"card",color:"#ed424b",background:"#fff",swipeable:""},on:{change:t.change},model:{value:t.isSex,callback:function(a){t.isSex=a},expression:"isSex"}},[e("van-tab",{attrs:{title:"男生"}},[e("div",{staticClass:"maleRangk"},[e("van-sidebar",{staticClass:"fl left",model:{value:t.activeKey,callback:function(a){t.activeKey=a},expression:"activeKey"}},t._l(t.tabData.male,(function(a,i){return e("van-sidebar-item",{key:i,class:t.active==i?"active":"",attrs:{title:a.shortTitle},on:{click:function(a){return t.tabIndex(i)}}})})),1),e("div",{staticClass:"fr right"},t._l(t.maleData,(function(a,i){return e("div",{key:i,staticClass:"ranking-item clearfix",on:{click:function(e){return t.hotClick(a)}}},[e("div",{staticClass:"ranking-img fl"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:a.cover,expression:"item.cover"}],staticClass:"auto-img",attrs:{alt:""}})]),e("div",{staticClass:"ranking-detail fl"},[e("div",{staticClass:"ranking-title one-text"},[e("van-tag",{staticClass:"tag",attrs:{round:"",size:"medium",type:i+1==1?"danger":i+1==2?"warning":i+1==3?"success":"default"}},[t._v(t._s(i+1))]),t._v(" "+t._s(a.title)+" ")],1),e("div",{staticClass:"ranking-shortIntro"},[t._v("简介："+t._s(a.shortIntro))]),e("div",{staticClass:"latelyFollower"},[e("van-icon",{staticClass:"follower",attrs:{name:"flower-o"}}),t._v(" 月票数："+t._s(a.latelyFollower)+" ")],1),e("div",{staticClass:"ranking-tag one-text clearfix"},[e("div",{staticClass:"ranking-author one-text fl"},[t._v("作者："+t._s(a.author))]),e("div",{staticClass:"fr tag"},[e("van-tag",{attrs:{plain:"",size:"medium",type:"danger"}},[t._v(t._s(a.majorCate))])],1)])])])})),0)],1)]),e("van-tab",{attrs:{title:"女生"}},[e("div",{staticClass:"maleRangk"},[e("van-sidebar",{staticClass:"fl",model:{value:t.activeKey,callback:function(a){t.activeKey=a},expression:"activeKey"}},t._l(t.tabData.female,(function(a,i){return e("van-sidebar-item",{key:i,class:t.active==i?"active":"",attrs:{title:a.shortTitle},on:{click:function(a){return t.tabIndex(i)}}})})),1),e("div",{staticClass:"fr right"},t._l(t.femaleData,(function(a,i){return e("div",{key:i,staticClass:"ranking-item clearfix",on:{click:function(e){return t.hotClick(a)}}},[e("div",{staticClass:"ranking-img fl"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:a.cover,expression:"item.cover"}],staticClass:"auto-img",attrs:{alt:""}})]),e("div",{staticClass:"ranking-detail fl"},[e("div",{staticClass:"ranking-title one-text"},[e("van-tag",{staticClass:"tag",attrs:{round:"",size:"medium",type:i+1==1?"danger":i+1==2?"warning":i+1==3?"success":"default"}},[t._v(t._s(i+1))]),t._v(" "+t._s(a.title)+" ")],1),e("div",{staticClass:"ranking-shortIntro"},[t._v("简介："+t._s(a.shortIntro))]),e("div",{staticClass:"latelyFollower"},[e("van-icon",{staticClass:"follower",attrs:{name:"flower-o"}}),t._v(" 月票数："+t._s(a.latelyFollower)+" ")],1),e("div",{staticClass:"ranking-tag one-text clearfix"},[e("div",{staticClass:"ranking-author one-text fl"},[t._v("作者："+t._s(a.author))]),e("div",{staticClass:"fr tag"},[e("van-tag",{attrs:{plain:"",size:"medium",type:"danger"}},[t._v(t._s(a.majorCate))])],1)])])])})),0)],1)])],1),e("van-icon",{staticClass:"login",attrs:{name:"contact",size:"30px"},on:{click:t.login}}),e("van-icon",{staticClass:"book",attrs:{name:"orders-o",size:"30px"},on:{click:t.bookshelf}})],1)])},s=[],n=(e("77ad"),e("fe8a"),{data:function(){return{activeKey:0,tabData:[],maleData:[],femaleData:[],isSex:0,active:0}},created:function(){this.getHotBookClass(0,0)},methods:{change:function(t){this.isSex=t,this.getHotBookClass(0,this.isSex),0!=t&&1!=t||(this.activeKey=0,this.active=0)},tabIndex:function(t){this.active=t,this.activeKey=t,this.getHotBookClass(this.activeKey,this.isSex)},bookshelf:function(){this.$router.push({name:"Bookshelf"})},hotClick:function(t){var a=t._id;this.$router.push({name:"Detail",query:{id:a}})},getHotBookClass:function(t,a){var e=this;this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"GET",url:"http://novel.kele8.cn/rank-category"}).then((function(i){if(e.$toast.clear(),Object.keys(i.data).length>0){var s=[],n=[],o="";Boolean(a)?(s.female=i.data.female.slice(0,7),n="female",o=s.female[t]._id):(s.male=i.data.male.slice(0,7),n="male",o=s.male[t]._id),e.tabData=s,e.getHotBookData(n,o)}})).catch((function(t){e.$toast.clear()}))},getHotBookData:function(t,a){var e=this,i=[];this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"GET",url:"http://novel.kele8.cn/rank/"+a}).then((function(a){if(e.$toast.clear(),Object.keys(a.data).length>0){for(var s=0;s<a.data.ranking.books.length;s++)a.data.ranking.books[s].cover=e.imgKey(a.data.ranking.books[s].cover);i=a.data.ranking.books,i=i.sort(e.sortNumber),"male"==t?e.maleData=i:e.femaleData=i}})).catch((function(t){e.$toast.clear()}))},login:function(){this.$router.push({name:"Login"})},sortNumber:function(t,a){return a.latelyFollower-t.latelyFollower},imgKey:function(t){return unescape(t).slice(7)},onClickLeft:function(){this.$router.go(-1)}}}),o=n,l=(e("23e9"),e("9ca4")),c=Object(l["a"])(o,i,s,!1,null,"452713ee",null);a["default"]=c.exports},cd17:function(t,a,e){},fe8a:function(t,a,e){var i=e("1c8b"),s=e("3553"),n=e("cbab"),o=e("efe2"),l=o((function(){n(1)}));i({target:"Object",stat:!0,forced:l},{keys:function(t){return n(s(t))}})}}]);
//# sourceMappingURL=chunk-28ff0b9f.0c4f227d.js.map